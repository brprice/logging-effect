<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Monad.Log</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Monad-Log.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">logging-effect-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Monad.Log</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Introduction</a></li><li><a href="#g:2">Getting Started</a><ul><li><a href="#g:3">Working with <code>logging-effect</code></a><ul><li><a href="#g:4">Emitting log messages</a></li><li><a href="#g:5">Outputting with <code>LoggingT</code></a></li><li><a href="#g:6">Adapting and composing logging</a></li></ul></li></ul></li><li><a href="#g:7"><code>MonadLog</code></a></li><li><a href="#g:8">Message transformers</a><ul><li><a href="#g:9">Timestamps</a></li><li><a href="#g:10">Severity</a></li><li><a href="#g:11">Call stacks</a></li></ul></li><li><a href="#g:12"><code>LoggingT</code>, a general handler</a><ul><li><a href="#g:13"><code>LoggingT</code> Handlers</a><ul><li><a href="#g:14">Batched handlers</a></li></ul></li></ul></li><li><a href="#g:15">Pure logging</a></li><li><a href="#g:16">Discarding logs</a></li><li><a href="#g:17">Aside: An <code>mtl</code> refresher</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadLog">MonadLog</a> message m | m -&gt; message <span class="keyword">where</span><ul class="subs"><li><a href="#v:logMessage">logMessage</a> :: message -&gt; m ()</li></ul></li><li class="src short"><a href="#v:mapLogMessage">mapLogMessage</a> :: <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> message' m =&gt; (message -&gt; message') -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m a -&gt; m a</li><li class="src short"><a href="#v:renderPretty">renderPretty</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a> -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:SimpleDoc">SimpleDoc</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithTimestamp">WithTimestamp</a> a = <a href="#v:WithTimestamp">WithTimestamp</a> {<ul class="subs"><li><a href="#v:discardTimestamp">discardTimestamp</a> :: a</li><li><a href="#v:msgTimestamp">msgTimestamp</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></li></ul>}</li><li class="src short"><a href="#v:timestamp">timestamp</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; a -&gt; m (<a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a> a)</li><li class="src short"><a href="#v:renderWithTimestamp">renderWithTimestamp</a> :: (<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-String.html#t:String">String</a>) -&gt; (a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a>) -&gt; <a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a> a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithSeverity">WithSeverity</a> a = <a href="#v:WithSeverity">WithSeverity</a> {<ul class="subs"><li><a href="#v:msgSeverity">msgSeverity</a> :: <a href="Control-Monad-Log.html#t:Severity">Severity</a></li><li><a href="#v:discardSeverity">discardSeverity</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Severity">Severity</a><ul class="subs"><li>= <a href="#v:Emergency">Emergency</a></li><li>| <a href="#v:Alert">Alert</a></li><li>| <a href="#v:Critical">Critical</a></li><li>| <a href="#v:Error">Error</a></li><li>| <a href="#v:Warning">Warning</a></li><li>| <a href="#v:Notice">Notice</a></li><li>| <a href="#v:Informational">Informational</a></li><li>| <a href="#v:Debug">Debug</a></li></ul></li><li class="src short"><a href="#v:renderWithSeverity">renderWithSeverity</a> :: (a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a>) -&gt; <a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a> a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithCallStack">WithCallStack</a> a = <a href="#v:WithCallStack">WithCallStack</a> {<ul class="subs"><li><a href="#v:msgCallStack">msgCallStack</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-Stack.html#t:CallStack">CallStack</a></li><li><a href="#v:discardCallStack">discardCallStack</a> :: a</li></ul>}</li><li class="src short"><a href="#v:withCallStack">withCallStack</a> :: (?stack :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-Stack.html#t:CallStack">CallStack</a>) =&gt; a -&gt; <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a> a</li><li class="src short"><a href="#v:renderWithCallStack">renderWithCallStack</a> :: (a -&gt; <a href="file:///nix/store/g1sa499cbcnf7vfhm09fh01ia7b7jp3m-text-1.2.2.0/share/doc/x86_64-linux-ghc-7.10.3/text-1.2.2.0/html/Data-Text.html#t:Text">Text</a>) -&gt; <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a> a -&gt; <a href="file:///nix/store/g1sa499cbcnf7vfhm09fh01ia7b7jp3m-text-1.2.2.0/share/doc/x86_64-linux-ghc-7.10.3/text-1.2.2.0/html/Data-Text.html#t:Text">Text</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LoggingT">LoggingT</a> message m a</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:LoggingT">LoggingT</a> ::   (<a href="Control-Monad-Log.html#t:Handler">Handler</a> t t -&gt; t t) -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> t t t</li><li class="src short"><a href="#v:runLoggingT">runLoggingT</a> :: <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m a -&gt; <a href="Control-Monad-Log.html#t:Handler">Handler</a> m message -&gt; m a</li><li class="src short"><a href="#v:mapLoggingT">mapLoggingT</a> :: (<span class="keyword">forall</span> a. (<a href="Control-Monad-Log.html#t:Handler">Handler</a> m message -&gt; m a) -&gt; <a href="Control-Monad-Log.html#t:Handler">Handler</a> n message' -&gt; n a) -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m a -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message' n a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Handler">Handler</a> m message = message -&gt; m ()</li><li class="src short"><a href="#v:withFDHandler">withFDHandler</a> :: (<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io, <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> io) =&gt; <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="Control-Monad-Log.html#t:Handler">Handler</a> io <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a> -&gt; io a) -&gt; io a</li><li class="src short"><a href="#v:withBatchedHandler">withBatchedHandler</a> :: (<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io, <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> io) =&gt; <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a> -&gt; ([message] -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a> ()) -&gt; (<a href="Control-Monad-Log.html#t:Handler">Handler</a> io message -&gt; io a) -&gt; io a</li><li class="src short"><span class="keyword">data</span> <a href="#t:BatchingOptions">BatchingOptions</a> = <a href="#v:BatchingOptions">BatchingOptions</a> {<ul class="subs"><li><a href="#v:flushMaxDelay">flushMaxDelay</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:flushMaxQueueSize">flushMaxQueueSize</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:blockWhenFull">blockWhenFull</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:defaultBatchingOptions">defaultBatchingOptions</a> :: <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PureLoggingT">PureLoggingT</a> log m a = <a href="#v:MkPureLoggingT">MkPureLoggingT</a> (<a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> log m a)</li><li class="src short"><a href="#v:runPureLoggingT">runPureLoggingT</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> log =&gt; <a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m a -&gt; m (a, log)</li><li class="src short"><span class="keyword">data</span> <a href="#t:DiscardLoggingT">DiscardLoggingT</a> message m a</li><li class="src short"><a href="#v:discardLogging">discardLogging</a> :: <a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m a -&gt; m a</li></ul></div><div id="interface"><h1 id="g:1">Introduction</h1><div class="doc"><p><code>logging-effect</code> provides a toolkit for general logging in Haskell programs
and libraries. The library consists of the type class <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> to add log
output to computations, and this library comes with a set of instances to help
you decide how this logging should be performed. There are predefined handlers
to write to file handles, to accumulate logs purely, or to discard logging
entirely.</p><p>Unlike other logging libraries available on Hackage, <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> does <em>not</em>
assume that you will be logging text information. Instead, the choice of logging
data is up to you. This leads to a highly compositional form of logging, with
the able to reinterpret logs into different formats, and avoid throwing
information away if your final output is structured (such as logging to a
relational database).</p></div><h1 id="g:2">Getting Started</h1><div class="doc"><p><code>logging-effect</code> is designed to be used via the <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> type class and
encourages an &quot;mtl&quot; style approach to programming. If you're not familiar with
the <code>mtl</code>, this approach uses type classes to keep the choice of monad
polymorphic as you program, and you later choose a specific monad transformer
stack when you execute your program. For more information, see
<a href="#tutorialMtl">Aside: A mtl refresher</a>.</p></div><h2 id="g:3">Working with <code>logging-effect</code></h2><h3 id="g:4">Emitting log messages</h3><div class="doc"><p>To add logging to your applications, you will need to make two changes.</p><p>First, use the <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> type class to indicate that a computation has
access to logging. <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> is parameterized on the type of messages
that you intend to log. In this example, we will log <code><a href="file:///nix/store/g1sa499cbcnf7vfhm09fh01ia7b7jp3m-text-1.2.2.0/share/doc/x86_64-linux-ghc-7.10.3/text-1.2.2.0/html/Data-Text.html#t:Text">Text</a></code> that is
wrapped in the <code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code>.</p><pre>testApp :: <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> (<code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code> <code><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></code>) m =&gt; m ()
testApp = do
  logMessage (<code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code> <code><a href="Control-Monad-Log.html#v:Informational">Informational</a></code> &quot;Don't mind me&quot;)
  logMessage (<code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code> <code><a href="Control-Monad-Log.html#v:Error">Error</a></code> &quot;But do mind me!&quot;)
</pre><p>Note that this does <em>not</em> specify where the logs &quot;go&quot;, we'll address that when
we run the program.</p></div><h3 id="g:5">Outputting with <code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code></h3><div class="doc"><p>Next, we need to run this computation under a <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> effect handler. The
most flexible handler is <code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code>. <code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code> runs a <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> computation
by providing it with a <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>, which is a computation that can be in the
underlying monad.</p><p>For example, we can easily fulfill the <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> type class by just using
<code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#v:print">print</a></code> as our <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runLoggingT testApp print
</code></strong>WithSeverity {msgSeverity = Informational, discardSeverity = &quot;Don't mind me&quot;}
WithSeverity {msgSeverity = Error, discardSeverity = &quot;But do mind me!&quot;}
</pre><p>The log messages are printed according to their <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a></code> instances, and - while
this works - it is not particularly user friendly. As <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>s are just functions
from log messages to monadic actions, we can easily reformat log messages.
<code>logging-effect</code> comes with a few &quot;log message transformers&quot; (such as
<code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code>), and each of these message transformers has a canonical way to
render in a human-readable format:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runLoggingT testApp (print . renderWithSeverity id)
</code></strong>[Informational] Don't mind me
[Error] But do mind me!
</pre><p>That's looking much more usable - and in fact this approach is probably fine for
command line applications.</p><p>However, for longer running high performance applications there is a slight
problem. Remember that <code><a href="Control-Monad-Log.html#v:runLoggingT">runLoggingT</a></code> simply interleaves the given <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>
whenever <code><a href="Control-Monad-Log.html#v:logMessage">logMessage</a></code> is called. By providing <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#v:print">print</a></code> as a <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>, our
application will actually block until the log is complete. This is undesirable
for high performance applications, where it's much better to log asynchronously.</p><p><code>logging-effect</code> comes with &quot;batched handlers&quot; for this problem. Batched handlers
are handlers that log asynchronously, are flushed periodically, and have maximum
memory impact. Batched handlers are created with <code><a href="Control-Monad-Log.html#v:withBatchedHandler">withBatchedHandler</a></code>, though
if you are just logging to file descriptors you can also use <code><a href="Control-Monad-Log.html#v:withFDHandler">withFDHandler</a></code>.
We'll use this next to log to <code>STDOUT</code>:</p><pre>main :: <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code> ()
main =
  <code><a href="Control-Monad-Log.html#v:withFDHandler">withFDHandler</a></code> <code><a href="Control-Monad-Log.html#v:defaultBatchingOptions">defaultBatchingOptions</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle-FD.html#v:stdout">stdout</a></code> 0.4 80 $ logToStdout -&gt;
  <code><a href="Control-Monad-Log.html#v:runLoggingT">runLoggingT</a></code> testApp (<code>logToStdout</code> . <code><a href="Control-Monad-Log.html#v:renderWithSeverity">renderWithSeverity</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Function.html#v:id">id</a></code>)
</pre><p>Finally, as <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>s are just functions (we can't stress this enough!) you
are free to slice-and-dice your log messages however you want. As our log
messages are structured, we can pattern match on the messages and dispatch them
to multiple handlers. In this final example of using <code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code> we'll split
our log messages between <code>STDOUT</code> and <code>STDERR</code>, and change the formatting of
error messages:</p><pre>main :: IO ()
main = do
  <code><a href="Control-Monad-Log.html#v:withFDHandler">withFDHandler</a></code> <code><a href="Control-Monad-Log.html#v:defaultBatchingOptions">defaultBatchingOptions</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle-FD.html#v:stderr">stderr</a></code> 0.4 80 $ stderrHandler -&gt;
  <code><a href="Control-Monad-Log.html#v:withFDHandler">withFDHandler</a></code> <code><a href="Control-Monad-Log.html#v:defaultBatchingOptions">defaultBatchingOptions</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle-FD.html#v:stdout">stdout</a></code> 0.4 80 $ stdoutHandler -&gt;
  <code><a href="Control-Monad-Log.html#v:runLoggingT">runLoggingT</a></code> m
              (\message -&gt;
                 case <code><a href="Control-Monad-Log.html#v:msgSeverity">msgSeverity</a></code> message of
                   <code><a href="Control-Monad-Log.html#v:Error">Error</a></code> -&gt; stderrHandler (<code><a href="Control-Monad-Log.html#v:discardSeverity">discardSeverity</a></code> message)
                   _     -&gt; stdoutHandler (<code><a href="Control-Monad-Log.html#v:renderWithSeverity">renderWithSeverity</a></code> id message))
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>main
</code></strong>[Informational] Don't mind me!
BUT DO MIND ME!
</pre></div><h3 id="g:6">Adapting and composing logging</h3><div class="doc"><p>So far we've considered very small applications where all log messages fit nicely
into a single type. However, as applications grow and begin to reuse components,
it's unlikely that this approach will scale. <code>logging-effect</code> comes with a
mapping function - <code><a href="Control-Monad-Log.html#v:mapLogMessage">mapLogMessage</a></code> - which allows us to map log messages from one
type to another (just like how we can use <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-OldList.html#v:map">map</a></code> to change elements of a list).</p><p>For example, we've already seen the basic <code>testApp</code> computation above that used
<code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code> to add severity information to log messages. Elsewhere we might
have some older code that doesn't yet have any severity information:</p><pre>legacyCode :: <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> <code><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></code> m =&gt; m ()
legacyCode = <code><a href="Control-Monad-Log.html#v:logMessage">logMessage</a></code> &quot;Does anyone even remember writing this function?&quot;
</pre><p>Here <code>legacyCode</code> is only logging <code><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></code>, while our <code>testApp</code> is logging
<code><a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></code> <code><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></code>. What happens if we compose these programs?</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t testApp &gt;&gt; legacyCode
</code></strong>  Couldn't match type &#8216;Doc&#8217; with &#8216;WithSeverity Doc&#8217;
</pre><p>Whoops! <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> has <em>functional dependencies</em> on the type class which means
that there can only be a single way to log per monad. One solution might be
to <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html#v:lift">lift</a></code> one set of logs into the other:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t testApp &gt;&gt; lift legacyCode
</code></strong>  :: (MonadTrans t, MonadLog Doc m, MonadLog (WithSeverity Doc) (t m)) =&gt; t m ()
</pre><p>And indeed, this is <em>a</em> solution, but it's not a particularly nice one.</p><p>Instead, we can map both of these computations into a common log format:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t mapLogMessage Left testApp &gt;&gt; mapLogMessage Right (logMessage &quot;Hello&quot;)
</code></strong>  :: (MonadLog (Either (WithSeverity Doc) Doc) m) =&gt; m ()
</pre><p>This is a trivial way of combining two different types of log message. In larger
applications you will probably want to define a new sum-type that combines all of
your log messages, and generally sticking with a single log message type per
application.</p></div><h1 id="g:7"><code>MonadLog</code></h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a name="t:MonadLog" class="def">MonadLog</a> message m | m -&gt; message <span class="keyword">where</span></p><div class="doc"><p>The class of monads that support logging.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:logMessage" class="def">logMessage</a> :: message -&gt; m ()</p><div class="doc"><p>Append a message to the log for this computation.</p></div></div><div class="subs instances"><p id="control.i:MonadLog" class="caption collapser" onclick="toggleSection('i:MonadLog')">Instances</p><div id="section.i:MonadLog" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> message (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc"><p>The trivial instance of <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> that simply discards all messages logged.</p></td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> log) =&gt; <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> log (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc"><p>A pure handler of <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> that accumulates log messages under the structure of their <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a></code> instance.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> message (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc"><p>The main instance of <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code>, which replaces calls to <code><a href="Control-Monad-Log.html#v:logMessage">logMessage</a></code> with calls to a <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>.</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:mapLogMessage" class="def">mapLogMessage</a> :: <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> message' m =&gt; (message -&gt; message') -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m a -&gt; m a</p><div class="doc"><p>Re-interpret the log messages in one computation. This can be useful to
 embed a computation with one log type in a larger general computation.</p></div></div><h1 id="g:8">Message transformers</h1><div class="top"><p class="src"><a name="v:renderPretty" class="def">renderPretty</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a> -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:SimpleDoc">SimpleDoc</a></p><div class="doc"><p>This is the default pretty printer which is used by <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#v:show">show</a></code>,
   <code><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#v:putDoc">putDoc</a></code> and <code><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#v:hPutDoc">hPutDoc</a></code>. <code>(renderPretty ribbonfrac width x)</code>
   renders document <code>x</code> with a page width of <code>width</code> and a ribbon
   width of <code>(ribbonfrac * width)</code> characters. The ribbon width is
   the maximal amount of non-indentation characters on a line. The
   parameter <code>ribbonfrac</code> should be between <code>0.0</code> and <code>1.0</code>. If it
   is lower or higher, the ribbon width will be 0 or <code>width</code>
   respectively.</p></div></div><h2 id="g:9">Timestamps</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WithTimestamp" class="def">WithTimestamp</a> a</p><div class="doc"><p>Add a timestamp to log messages.</p><p>Note that while most log message transformers are designed to be used at the
 point of logging, this transformer is best applied within the handler.
 This is advised as timestamps are generally applied uniformly, so doing it
 in the handler is fine (no extra information or context of the program is
 required). The other reason is that logging with a timestamp requires
 <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code> - while the rest of your computation is free to use <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code>,
 it's best to avoid incurring this constraint as much as possible, as it is
 generally untestable.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:WithTimestamp" class="def">WithTimestamp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:discardTimestamp" class="def">discardTimestamp</a> :: a</dt><dd class="doc"><p>Retireve the time a message was logged.</p></dd><dt class="src"><a name="v:msgTimestamp" class="def">msgTimestamp</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></dt><dd class="doc"><p>View the underlying message.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:WithTimestamp" class="caption collapser" onclick="toggleSection('i:WithTimestamp')">Instances</p><div id="section.i:WithTimestamp" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Traversable.html#t:Traversable">Traversable</a> <a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:timestamp" class="def">timestamp</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; a -&gt; m (<a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a> a)</p><div class="doc"><p>Add the current time as a timestamp to a message.</p></div></div><div class="top"><p class="src"><a name="v:renderWithTimestamp" class="def">renderWithTimestamp</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a> -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-String.html#t:String">String</a>)</td><td class="doc"><p>How to format the timestamp.</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a>)</td><td class="doc"><p>How to render the rest of the message.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Log.html#t:WithTimestamp">WithTimestamp</a> a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Given a way to render the underlying message <code>a</code> and a way to format
 <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></code>, render a message with its timestamp.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>renderWithTimestamp (formatTime defaultTimeLocale rfc822DateFormat) id timestamppedLogMessage
</code></strong>[Tue, 19 Jan 2016 11:29:42 UTC] Setting target speed to plaid
</pre></div></div><h2 id="g:10">Severity</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WithSeverity" class="def">WithSeverity</a> a</p><div class="doc"><p>Add &quot;Severity&quot; information to a log message. This is often used to convey
 how significant a log message is.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:WithSeverity" class="def">WithSeverity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:msgSeverity" class="def">msgSeverity</a> :: <a href="Control-Monad-Log.html#t:Severity">Severity</a></dt><dd class="doc"><p>Retrieve the <code><a href="Control-Monad-Log.html#t:Severity">Severity</a></code> a message.</p></dd><dt class="src"><a name="v:discardSeverity" class="def">discardSeverity</a> :: a</dt><dd class="doc"><p>View the underlying message.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:WithSeverity" class="caption collapser" onclick="toggleSection('i:WithSeverity')">Instances</p><div id="section.i:WithSeverity" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Read.html#t:Read">Read</a> (<a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a> a)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Severity" class="def">Severity</a></p><div class="doc"><p>Classes of severity for log messages. These have been chosen to match
 <code>syslog</code> severity levels</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Emergency" class="def">Emergency</a></td><td class="doc"><p>System is unusable. By <code>syslog</code> convention, this level should not be used by applications.</p></td></tr><tr><td class="src"><a name="v:Alert" class="def">Alert</a></td><td class="doc"><p>Should be corrected immediately.</p></td></tr><tr><td class="src"><a name="v:Critical" class="def">Critical</a></td><td class="doc"><p>Critical conditions.</p></td></tr><tr><td class="src"><a name="v:Error" class="def">Error</a></td><td class="doc"><p>Error conditions.</p></td></tr><tr><td class="src"><a name="v:Warning" class="def">Warning</a></td><td class="doc"><p>May indicate that an error will occur if action is not taken.</p></td></tr><tr><td class="src"><a name="v:Notice" class="def">Notice</a></td><td class="doc"><p>Events that are unusual, but not error conditions.</p></td></tr><tr><td class="src"><a name="v:Informational" class="def">Informational</a></td><td class="doc"><p>Normal operational messages that require no action.</p></td></tr><tr><td class="src"><a name="v:Debug" class="def">Debug</a></td><td class="doc"><p>Information useful to developers for debugging the application.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Severity" class="caption collapser" onclick="toggleSection('i:Severity')">Instances</p><div id="section.i:Severity" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Bounded">Bounded</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Enum">Enum</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Read.html#t:Read">Read</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Pretty">Pretty</a> <a href="Control-Monad-Log.html#t:Severity">Severity</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:renderWithSeverity" class="def">renderWithSeverity</a> :: (a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a>) -&gt; <a href="Control-Monad-Log.html#t:WithSeverity">WithSeverity</a> a -&gt; <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a></p><div class="doc"><p>Given a way to render the underlying message <code>a</code> render a message with its
 timestamp.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>renderWithSeverity id Debug (WithSeverity Info &quot;Flux capacitor is functional&quot;)
</code></strong>[Info] Flux capacitor is functional
</pre></div></div><h2 id="g:11">Call stacks</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WithCallStack" class="def">WithCallStack</a> a</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:WithCallStack" class="def">WithCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:msgCallStack" class="def">msgCallStack</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-Stack.html#t:CallStack">CallStack</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:discardCallStack" class="def">discardCallStack</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:WithCallStack" class="caption collapser" onclick="toggleSection('i:WithCallStack')">Instances</p><div id="section.i:WithCallStack" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Traversable.html#t:Traversable">Traversable</a> <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:withCallStack" class="def">withCallStack</a> :: (?stack :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-Stack.html#t:CallStack">CallStack</a>) =&gt; a -&gt; <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a> a</p></div><div class="top"><p class="src"><a name="v:renderWithCallStack" class="def">renderWithCallStack</a> :: (a -&gt; <a href="file:///nix/store/g1sa499cbcnf7vfhm09fh01ia7b7jp3m-text-1.2.2.0/share/doc/x86_64-linux-ghc-7.10.3/text-1.2.2.0/html/Data-Text.html#t:Text">Text</a>) -&gt; <a href="Control-Monad-Log.html#t:WithCallStack">WithCallStack</a> a -&gt; <a href="file:///nix/store/g1sa499cbcnf7vfhm09fh01ia7b7jp3m-text-1.2.2.0/share/doc/x86_64-linux-ghc-7.10.3/text-1.2.2.0/html/Data-Text.html#t:Text">Text</a></p></div><h1 id="g:12"><code>LoggingT</code>, a general handler</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LoggingT" class="def">LoggingT</a> message m a</p><div class="doc"><p><code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code> is a very general handler for the <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> effect. Whenever a
 log entry is emitted, the given <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code> is invoked, producing some
 side-effect (such as writing to <code>stdout</code>, or appending a database table).</p></div><div class="subs instances"><p id="control.i:LoggingT" class="caption collapser" onclick="toggleSection('i:LoggingT')">Instances</p><div id="section.i:LoggingT" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="file:///nix/store/0dk2s95whvqjdwp939jhckw25cn9kpjs-free-4.12.1/share/doc/x86_64-linux-ghc-7.10.3/free-4.12.1/html/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="file:///nix/store/0dk2s95whvqjdwp939jhckw25cn9kpjs-free-4.12.1/share/doc/x86_64-linux-ghc-7.10.3/free-4.12.1/html/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/vkkp4nw3kfv1vmv1pdz6080aix401qn2-transformers-base-0.4.4/share/doc/x86_64-linux-ghc-7.10.3/transformers-base-0.4.4/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a href="file:///nix/store/vkkp4nw3kfv1vmv1pdz6080aix401qn2-transformers-base-0.4.4/share/doc/x86_64-linux-ghc-7.10.3/transformers-base-0.4.4/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> message (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc"><p>The main instance of <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code>, which replaces calls to <code><a href="Control-Monad-Log.html#v:logMessage">logMessage</a></code> with calls to a <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StM">StM</a> (<a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m) a = <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StM">StM</a> m a</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a name="v:LoggingT" class="def">LoggingT</a> ::   (<a href="Control-Monad-Log.html#t:Handler">Handler</a> t t -&gt; t t) -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> t t t</p><div class="doc"><p><code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code> <code>messasge</code> <code>m</code> is isomorphic to <code>Handler message m -&gt; m ()</code>.
 This is a reader monad with base effects in <code>m</code> and access to
 <code>Handler message m</code>.This pattern synonym witnesses that isomorphism.</p></div></div><div class="top"><p class="src"><a name="v:runLoggingT" class="def">runLoggingT</a> :: <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m a -&gt; <a href="Control-Monad-Log.html#t:Handler">Handler</a> m message -&gt; m a</p><div class="doc"><p>Given a <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code> for a given <code>message</code>, interleave this <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code> into the
 underlying <code>m</code> computation whenever <code><a href="Control-Monad-Log.html#v:logMessage">logMessage</a></code> is called.</p></div></div><div class="top"><p class="src"><a name="v:mapLoggingT" class="def">mapLoggingT</a> :: (<span class="keyword">forall</span> a. (<a href="Control-Monad-Log.html#t:Handler">Handler</a> m message -&gt; m a) -&gt; <a href="Control-Monad-Log.html#t:Handler">Handler</a> n message' -&gt; n a) -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message m a -&gt; <a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a> message' n a</p><div class="doc"><p><code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code> unfortunately does admit an instance of the <code>MFunctor</code> type
 class, which provides the <code>hoist</code> method to change the monad underneith
 a monad transformer. However, it is possible to do this with <code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code>
 provided that you have a way to re-interpret a log handler in the
 original monad.</p></div></div><h2 id="g:13"><code><a href="Control-Monad-Log.html#t:LoggingT">LoggingT</a></code> Handlers</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Handler" class="def">Handler</a> m message = message -&gt; m ()</p><div class="doc"><p>Handlers are mechanisms to interpret the meaning of logging as an action
 in the underlying monad. They are simply functions from log messages to
 <code>m</code>-actions.</p></div></div><div class="top"><p class="src"><a name="v:withFDHandler" class="def">withFDHandler</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io, <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> io)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a></td><td class="doc"><p>The <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a></code> to write log messages to.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></td><td class="doc"><p>The <code>ribbonFrac</code> parameter to <code><a href="Control-Monad-Log.html#v:renderPretty">renderPretty</a></code></p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>The amount of characters per line. Lines longer than this will be pretty-printed across multiple lines if possible.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Monad-Log.html#t:Handler">Handler</a> io <a href="file:///nix/store/cgid2qqwrd2n66r06v9p2kmvnnr3r58w-wl-pprint-text-1.1.0.4/share/doc/x86_64-linux-ghc-7.10.3/wl-pprint-text-1.1.0.4/html/Text-PrettyPrint-Leijen-Text.html#t:Doc">Doc</a> -&gt; io a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; io a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Control-Monad-Log.html#v:withFDHandler">withFDHandler</a></code> creates a new <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code> that will append a given file
 descriptor (or <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a></code>, as it is known in the &quot;base&quot; library). Note that
 this <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code> requires log messages to be of type <code><a href="file:///nix/store/g1sa499cbcnf7vfhm09fh01ia7b7jp3m-text-1.2.2.0/share/doc/x86_64-linux-ghc-7.10.3/text-1.2.2.0/html/Data-Text.html#t:Text">Text</a></code>.</p><p>These <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code>s asynchronously log messages to the given file descriptor,
 rather than blocking.</p></div></div><h3 id="g:14">Batched handlers</h3><div class="top"><p class="src"><a name="v:withBatchedHandler" class="def">withBatchedHandler</a> :: (<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> io, <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> io) =&gt; <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a> -&gt; ([message] -&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a> ()) -&gt; (<a href="Control-Monad-Log.html#t:Handler">Handler</a> io message -&gt; io a) -&gt; io a</p><div class="doc"><p>Create a new batched handler. Batched handlers take batches of messages to
 log at once, which can be more performant than logging each individual
 message.</p><p>A batched handler flushes under three criteria:</p><ol><li>The flush interval has elapsed and the queue is not empty.</li><li>The queue has become full and needs to be flushed.</li><li>The scope of <code><a href="Control-Monad-Log.html#v:withBatchedHandler">withBatchedHandler</a></code> is exited.</li></ol><p>Batched handlers queue size and flush period can be configured via
 <code><a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:BatchingOptions" class="def">BatchingOptions</a></p><div class="doc"><p>Options that be used to configure <code>withBatchingHandler</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:BatchingOptions" class="def">BatchingOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:flushMaxDelay" class="def">flushMaxDelay</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>The maximum amount of time to wait between flushes</p></dd><dt class="src"><a name="v:flushMaxQueueSize" class="def">flushMaxQueueSize</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>The maximum amount of messages to hold in memory between flushes}</p></dd><dt class="src"><a name="v:blockWhenFull" class="def">blockWhenFull</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>If the <code><a href="Control-Monad-Log.html#t:Handler">Handler</a></code> becomes full, <code><a href="Control-Monad-Log.html#v:logMessage">logMessage</a></code> will block until the queue is flushed if <code><a href="Control-Monad-Log.html#v:blockWhenFull">blockWhenFull</a></code> is <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#v:True">True</a></code>, otherwise it will drop that message and continue.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:BatchingOptions" class="caption collapser" onclick="toggleSection('i:BatchingOptions')">Instances</p><div id="section.i:BatchingOptions" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Read.html#t:Read">Read</a> <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultBatchingOptions" class="def">defaultBatchingOptions</a> :: <a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></p><div class="doc"><p>Defaults for <code><a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></code></p><pre><code><a href="Control-Monad-Log.html#v:defaultBatchingOptions">defaultBatchingOptions</a></code> = <code><a href="Control-Monad-Log.html#t:BatchingOptions">BatchingOptions</a></code> {<code><a href="Control-Monad-Log.html#v:flushMaxDelay">flushMaxDelay</a></code> = 1000000
                                         ,<code><a href="Control-Monad-Log.html#v:flushMaxQueueSize">flushMaxQueueSize</a></code> = 100
                                         ,<code><a href="Control-Monad-Log.html#v:blockWhenFull">blockWhenFull</a></code> = <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#v:True">True</a></code>}
</pre></div></div><h1 id="g:15">Pure logging</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:PureLoggingT" class="def">PureLoggingT</a> log m a</p><div class="doc"><p>A <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> handler optimised for pure usage. Log messages are accumulated
 strictly, given that messasges form a <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:MkPureLoggingT" class="def">MkPureLoggingT</a> (<a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> log m a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:PureLoggingT" class="caption collapser" onclick="toggleSection('i:PureLoggingT')">Instances</p><div id="section.i:PureLoggingT" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="file:///nix/store/0dk2s95whvqjdwp939jhckw25cn9kpjs-free-4.12.1/share/doc/x86_64-linux-ghc-7.10.3/free-4.12.1/html/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="file:///nix/store/0dk2s95whvqjdwp939jhckw25cn9kpjs-free-4.12.1/share/doc/x86_64-linux-ghc-7.10.3/free-4.12.1/html/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/vkkp4nw3kfv1vmv1pdz6080aix401qn2-transformers-base-0.4.4/share/doc/x86_64-linux-ghc-7.10.3/transformers-base-0.4.4/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a href="file:///nix/store/vkkp4nw3kfv1vmv1pdz6080aix401qn2-transformers-base-0.4.4/share/doc/x86_64-linux-ghc-7.10.3/transformers-base-0.4.4/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> log) =&gt; <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> log (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc"><p>A pure handler of <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> that accumulates log messages under the structure of their <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a></code> instance.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadTransControl">MonadTransControl</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StT">StT</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message) a = <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StT">StT</a> (<a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> message) a</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StM">StM</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message m) a = <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:ComposeSt">ComposeSt</a> (<a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> message) m a</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:runPureLoggingT" class="def">runPureLoggingT</a> :: <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> log =&gt; <a href="Control-Monad-Log.html#t:PureLoggingT">PureLoggingT</a> log m a -&gt; m (a, log)</p><div class="doc"><p>Run a computation with access to logging by accumulating a log under its
 <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a></code> instance.</p></div></div><h1 id="g:16">Discarding logs</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:DiscardLoggingT" class="def">DiscardLoggingT</a> message m a</p><div class="doc"><p>A <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> handler that throws messages away.</p></div><div class="subs instances"><p id="control.i:DiscardLoggingT" class="caption collapser" onclick="toggleSection('i:DiscardLoggingT')">Instances</p><div id="section.i:DiscardLoggingT" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="file:///nix/store/0dk2s95whvqjdwp939jhckw25cn9kpjs-free-4.12.1/share/doc/x86_64-linux-ghc-7.10.3/free-4.12.1/html/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="file:///nix/store/0dk2s95whvqjdwp939jhckw25cn9kpjs-free-4.12.1/share/doc/x86_64-linux-ghc-7.10.3/free-4.12.1/html/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/vkkp4nw3kfv1vmv1pdz6080aix401qn2-transformers-base-0.4.4/share/doc/x86_64-linux-ghc-7.10.3/transformers-base-0.4.4/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a href="file:///nix/store/vkkp4nw3kfv1vmv1pdz6080aix401qn2-transformers-base-0.4.4/share/doc/x86_64-linux-ghc-7.10.3/transformers-base-0.4.4/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a> message (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc"><p>The trivial instance of <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> that simply discards all messages logged.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="file:///nix/store/7j6f149v9ahzcwlybfnkka0lig8fla2y-exceptions-0.8.0.2/share/doc/x86_64-linux-ghc-7.10.3/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StM">StM</a> (<a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m) a = <a href="file:///nix/store/zlfx8zsynwp5ccby04nfa0mb70vy2gf7-monad-control-1.0.0.4/share/doc/x86_64-linux-ghc-7.10.3/monad-control-1.0.0.4/html/Control-Monad-Trans-Control.html#t:StM">StM</a> m a</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:discardLogging" class="def">discardLogging</a> :: <a href="Control-Monad-Log.html#t:DiscardLoggingT">DiscardLoggingT</a> message m a -&gt; m a</p><div class="doc"><p>Run a <code><a href="Control-Monad-Log.html#t:MonadLog">MonadLog</a></code> computation by throwing away all log requests.</p></div></div><h1 id="g:17">Aside: An <code>mtl</code> refresher</h1><div class="doc"><p><a name="tutorialMtl"></a></p><p>If you are already familiar with the <code>mtl</code> you can skip this section. This is not
designed to be an exhaustive introduction to the <code>mtl</code> library, but hopefully
via a short example you'll have a basic familarity with the approach.</p><p>In this example, we'll write a program with access to state and general <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code>
actions. One way to do this would be to work with monad transformers, stacking
<code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Strict.html#t:StateT">StateT</a></code> on top of <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code>:</p><pre>import <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-State-Strict.html">Control.Monad.Trans.State.Strict</a> (<code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Strict.html#t:StateT">StateT</a></code>, <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:get">get</a></code>, <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:put">put</a></code>)
import <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html">Control.Monad.Trans.Class</a> (<code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html#v:lift">lift</a></code>)

transformersProgram :: <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Strict.html#t:StateT">StateT</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code> ()
transformersProgram = do
  stateNow &lt;- <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:get">get</a></code>
  <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-Class.html#v:lift">lift</a></code> launchMissles
  <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:put">put</a></code> (stateNow + 42)
</pre><p>This is OK, but it's not very flexible. For example, the transformers library
actually provides us with two implementations of state monads - strict and a
lazy variant. In the above approach we have forced the user into a choice (we
chose the strict variant), but this can be undesirable. We could imagine that
in the future there may be even more implementations of state monads (for
example, a state monad that persists state entirely on a remote machine) - if
requirements change we are unable to reuse this program without changing its
type.</p><p>With the <code>mtl</code>, we instead program to an <em>abstract specification</em> of the effects
we require, and we postpone the choice of handler until the point when the
computation is ran.</p><p>Rewriting the <code>transformersProgram</code> using the <code>mtl</code>, we have the following:</p><pre>import <a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html">Control.Monad.State.Class</a> (<code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a></code>(<code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:get">get</a></code>, <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:put">put</a></code>))
import <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html">Control.Monad.IO.Class</a> (<code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code>(<code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#v:liftIO">liftIO</a></code>))

mtlProgram :: (<code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a></code> <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int">Int</a></code> m, <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code> m) =&gt; m ()
mtlProgram = do
  stateNow &lt;- <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:get">get</a></code>
  <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#v:liftIO">liftIO</a></code> launchMissles
  <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#v:put">put</a></code> (stateNow + 42)
</pre><p>Notice that <code>mtlProgram</code> doesn't specify a concrete choice of state monad. The
&quot;transformers&quot; library gives us two choices - strict or lazy state monads. We
make the choice of a specific monad stack when we run our program:</p><pre>import <a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-State-Strict.html">Control.Monad.Trans.State.Strict</a> (<code>execStateT</code>)

main :: <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code> ()
main = <code>execStateT</code> mtlProgram 99
</pre><p>Here we chose the strict variant via <code>execStateT</code>. Using <code>execStateT</code>
*eliminates* the <code><a href="file:///nix/store/v1a6m7cd6g16aknj98cfcicr7mbg6wb0-mtl-2.2.1/share/doc/x86_64-linux-ghc-7.10.3/mtl-2.2.1/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a></code> type class from <code>mtlProgram</code>, so now we only have
to fulfill the <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code> obligation. There is only one way to handle this, and
that's by working in the <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code> monad. Fortunately we're inside the <code>main</code>
function, which is in the <code><a href="file:///nix/store/20ydc8gy186yrjk06x8cbsqs4mly7xaq-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a></code> monad, so we're all good.</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>